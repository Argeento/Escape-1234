<ol id=L></ol> <!-- scoreboard -->
<center id=G> <!-- gameboard --> <!-- HTML4, there is no space for text-align: center; -->

<script>
	// there is no space for IIFE

	// init
	t=this;
	S=[];
	O='O';
	W=F=>{v=[];Y=X=a=p=m=l=0;Z=''};W();
		// X,Y - Player position
		// a - 'for' loop helper
		// v - enemies objects {x,y}
		// S - scoreboard array
		// m - moves counter
		// l - game over? - false
		// Z - scoreboard helper
		// Z - empty string

		// F is a fake @param - 'var=F=>{}' is shorter than 'var=()=>{}'

	for(;a<100;a++){ // create board
		E=document.createElement(O); // 'z' tag : )
		E.id=O+a%10+parseInt(a/10); // set id
		G.appendChild(E); // append
	}

	B=p=>t.onkeydown=p;

	I=(v,e=P)=>e.innerHTML=v; // set the string in the element

	r=(x,y=Y++,e=Z)=>I(e,t[O+x+y]); //render @param e char on the (x,y) position

	R=F=>{ // render Enemies and Player
		for(a in v){
			r(v[a].x,v[a].y,'+');
		}
		r(X,Y,O);
		r(9,9,'+')
	};

	c=F=>v.push({x:9,y:9}); // create enemy function

	N=e=>{ // Player round
		e=e.which; // get the code of the press key
		
		I(
			p=parseInt(m*m*.2) // add points
		); // render points
		
		m++ % 8 || c(); // create Enemy after the 8 moves
		
		33==e&&9>X&&Y&&r(X++,Y--); // Move Player
		34==e&&9>X&&9>Y&&r(X++);
		35==e&&X&&9>Y&&r(X--);
		36==e&&X&&Y&&r(X--,Y--);
		37==e&&X&&r(X--,Y);
		39==e&&9>X&&r(X++,Y);
		38==e&&Y&&r(X,Y--);
		40==e&&9>Y&&r(X);
		
		V=F=>Y<v[i].y&&r(v[i].x,v[i].y--)||Y>v[i].y&&r(v[i].x,v[i].y++); // Vertical enemy move

		H=F=>X<v[i].x&&r(v[i].x--,v[i].y)||X>v[i].x&&r(v[i].x++,v[i].y); // Horizontal enemy move
			

		for(i in v) {
			X!=v[i].x&&Y!=v[i].y?.5>Math.random()?V():H():(V(),H()); // enemies moves
			if(X==v[i].x&&Y==v[i].y)l=1; // check state of the game
		}

		R(); // render the board

		if(l){ // if player lose
			r(X,Y,'X'); // render the X in a player position 
			I(p+'<br>end'); // render game over text
			
			S.push(p); // add score to the scoreboard
			S.sort((a,b)=>b-a) // sort scoreboard
				.slice(0,3) // get 3 top scores
				.map(z=>{Z+='<li>'+z}); // create <li> elements with scores

			I(Z,L); // render scores in <ol> element
			
			B(F=>{ // overwrite onkeydown function
				
				W(); // reset variables

				while(a++<100)I(Z,G.children[a]); // clear board

				I(p); // render points
				R(); // render board

				B(N); // game is ready
			});
		}
	}

	R(); // render board

	B(N); // add event listener to the window - game is ready

</script>

Pkt. <b id=P> 0</b> <!-- score -->

<style> /* some styles */
	#G{
		width:13em;
		font-size:26px
	}
	#L {
		float:right
	}
	O {
		width:30px;
		height:30px;
		border:1px solid #DDD
	}
	G,O {
		float:left
	}
	body {
		width:25em